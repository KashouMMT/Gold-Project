<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:fragment="public-collection">
	<main id="collection">
		<!-- Title Section (kept) 
		<section id="page-title" class="bg-dark py-5 anim" data-anim="fade-up"
			data-duration="1s">
			<div class="container px-4 px-lg-5 my-5">
				<div class="justify-content-center text-center text-white">
					<h1 class="display-4 fw-bolder anim" data-anim="fade-right"
						data-duration="1s" data-delay="0.2s">Cart</h1>
				</div>
			</div>
		</section>
		-->
		<section id="our-cart" class="py-5 anim" data-anim="fade-up" data-duration="1s">
			<div class="container px-4 px-lg-5 mt-5">
				<!-- ðŸ”¹ MOBILE floating total bar (visible only on small screens) -->
			    <div class="d-lg-none sticky-top bg-white border-top p-2 shadow-sm">
			      <div class="d-flex justify-content-between align-items-center">
			        <span class="fw-semibold">Total:</span>
			        <span th:text="${cart.totalPrice}" class="fw-bold text-success">Â£59.99</span>
			        <button class="btn btn-success btn-sm ms-2">Checkout</button>
			      </div>
			    </div>
				<div class="row g-4">
				  <div class="col-12 col-lg-8">
				    <div th:each="item : ${cart.cartItems}" class="box border rounded-3 shadow-sm p-3 mt-2">
				      <div class="row g-3 align-items-center">
				        <div class="col-auto">
				          <img th:src="@{'/files/' + ${item.product.getMainProductImage}}"
				               alt="Fancy Product" class="rounded-2" style="width:120px;height:90px;object-fit:cover;">
				        </div>
				        <div class="col">
				          <!-- Title -->
						  <div th:text="${item.product.title}" class="fw-semibold mb-1"></div>
				          <!-- Short description (optional) -->
						  <div class="text-muted small mb-2">
						    <span th:text="${item.product.description}"></span>
						  </div>
				          <!-- Responsive specs -->
					      <div class="spec-grid text-muted small mb-0">
							  <div class="spec-item">
							    <span class="spec-k">Material:</span>
							    <span class="spec-v" th:text="${item.product.material}"></span>
							  </div>
							  <div class="spec-item">
							    <span class="spec-k">Theme:</span>
							    <span class="spec-v" th:text="${item.product.theme}"></span>
							  </div>
							  <div class="spec-item">
							    <span class="spec-k">Occasion:</span>
							    <span class="spec-v" th:text="${item.product.occasion}"></span>
							  </div>
							  <div class="spec-item">
							    <span class="spec-k">Width:</span>
							    <span class="spec-v" th:text="${item.productWidth.width}"></span>
							  </div>
							  <div class="spec-item">
							    <span class="spec-k">Length:</span>
							    <span class="spec-v" th:text="${item.productLength.length}"></span>
							  </div>
							  <div class="spec-item">
							    <span class="spec-k">Qty:</span>
							    <span class="spec-v" th:text="${item.quantity}"></span>
							  </div>
								</div>
				        </div>
				        <div class="col-auto">
				          <div th:text="${item.itemPrice}"class="fw-bold">00.00</div>
				        </div>
				      </div>
				    </div>
				  </div>
				  <div class="col-12 col-lg-4">
				    <div class="position-sticky" style="top:1rem;">
				    	<div class="box border rounded-3 shadow-sm">
  							<!-- Header -->
						  <div class="border-bottom p-3">
						    <h5 class="mb-0 fw-semibold">Order Summary</h5>
						  </div>
						  <!-- Body -->
						  <div class="p-3">
						    <!-- Subtotal -->
						    <div class="d-flex justify-content-between py-1">
						      <span class="text-muted">Subtotal</span>
						      <span th:text="${cart.totalPrice}"></span>
						    </div>
						    <!-- Delivery -->
						    <div class="d-flex justify-content-between py-1">
						      <span class="text-muted">Delivery</span>
						      <span class="text-success">Free</span>
						    </div>
						    <!-- Discount 
						    <div class="d-flex justify-content-between py-1">
						      <span class="text-muted">Discount</span>
						      <span>-Â£0.00</span>
						    </div> -->
						    <!-- Divider -->
						    <hr class="my-3">
						    <!-- Total -->
						    <div class="d-flex justify-content-between fw-semibold fs-5">
						      <span>Total</span>
						      <span th:text="${cart.totalPrice}"></span>
						    </div>
						  </div>
						  <!-- Footer -->
						  <div class="border-top p-3">
						    <!-- Promo code 
						    <div class="input-group mb-3">
						      <input type="text" class="form-control" placeholder="Promo code" aria-label="Promo code">
						      <button class="btn btn-outline-secondary" type="button">Apply</button>
						    </div>
						    -->
						
						    <!-- Checkout buttons -->
						    <div class="d-grid gap-2">
						      <button class="btn btn-success fw-semibold" type="button">
						        <i class="bi-lock-fill me-1"></i> Checkout Securely
						      </button>
						      <button class="btn btn-outline-dark" type="button">
						        <i class="bi-google me-1"></i> Pay with Google Pay
						      </button>
						      <button class="btn btn-outline-primary" type="button">
						        <i class="bi-paypal me-1"></i> Pay with PayPal
						      </button>
						    </div>
						
						    <!-- Small print -->
						    <p class="text-muted small mt-3 mb-0">
						      By placing the order, you agree to our 
						      <a href="#" class="link-secondary text-decoration-underline">Terms &amp; Conditions</a> 
						      and <a href="#" class="link-secondary text-decoration-underline">Privacy Policy</a>.
						    </p>
						  </div>
						</div>
				    </div>
				  </div>
				</div>
			</div>
		</section>
	</main>
</th:block>
</html>